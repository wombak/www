import React from 'react';
import { useUID } from 'react-uid';

import { color } from '../../theme';

const variations = {
  dark: {
    logo: color.primary,
    text: color.light,
    shadow: true
  },
  light: {
    logo: color.primary,
    text: color.dark,
    shadow: false
  }
};

export type HeaderVariant = 'dark' | 'light';

interface Props {
  variant?: HeaderVariant;
}

export const Logo: React.FC<Props> = ({
  variant = 'dark',
  className
}: Props & React.SVGAttributes<SVGElement>) => {
  const uid = useUID();
  const { logo, text, shadow } = variations[variant] ?? {};

  const textId = `${uid}_t`;
  const shadowId = `${uid}_s`;

  if (logo && text) {
    return (
      <svg
        xmlns="http://www.w3.org/2000/svg"
        xmlnsXlink="http://www.w3.org/1999/xlink"
        width="163"
        viewBox="0 0 163 80"
        className={className}
      >
        <defs>
          <path
            id={textId}
            d="M4.677 26l1.166-3.663h.092L6.971 26h2.424l1.868-9.25H9.098l-.758 4.68-.166 1.591H8.08L6.694 18.97H5.158l-1.369 4.052h-.093l-.147-1.147-.907-5.125H.237L2.179 26h2.498zm12.173.259c.74 0 1.41-.108 2.007-.324a4.261 4.261 0 001.545-.952c.432-.42.765-.932.999-1.536.234-.604.352-1.295.352-2.072 0-.728-.108-1.394-.324-1.998a4.16 4.16 0 00-.953-1.545 4.296 4.296 0 00-1.545-.99c-.61-.234-1.304-.351-2.081-.351-.74 0-1.41.108-2.007.324a4.261 4.261 0 00-1.545.952c-.432.42-.765.932-.999 1.536-.234.604-.351 1.295-.351 2.072 0 .728.107 1.394.323 1.998a4.16 4.16 0 00.953 1.545c.42.425.934.755 1.545.99.61.234 1.304.351 2.081.351zm0-2.035c-.382 0-.722-.07-1.018-.213a2.174 2.174 0 01-.758-.601 2.773 2.773 0 01-.481-.907 3.67 3.67 0 01-.166-1.128c0-.506.061-.937.184-1.295.124-.358.293-.654.51-.888.215-.234.471-.404.767-.509.296-.105.617-.157.962-.157.777 0 1.375.262 1.794.786.42.524.63 1.212.63 2.063 0 .987-.226 1.708-.676 2.165-.45.456-1.033.684-1.748.684zM24.99 26v-6.697a.985.985 0 01.36-.518.944.944 0 01.583-.204c.124 0 .244.022.361.065.117.043.216.13.296.26.08.129.145.308.195.536.049.228.073.527.073.897V26h2.22v-6.753c.062-.234.173-.403.334-.508.16-.105.351-.158.573-.158.259 0 .478.111.657.334.179.222.268.61.268 1.165V26h2.22v-6.327c0-.629-.052-1.144-.157-1.545-.105-.4-.256-.718-.453-.953a1.58 1.58 0 00-.694-.49 2.714 2.714 0 00-.898-.138c-.444 0-.857.114-1.239.342a2.064 2.064 0 00-.851.99c-.136-.494-.389-.84-.759-1.037a2.443 2.443 0 00-1.165-.295c-.481 0-.9.114-1.258.342a2.268 2.268 0 00-.814.878h-.055l-.26-1.017H22.77V26h2.22zm13.616.222c.814 0 1.545-.111 2.192-.333a4.47 4.47 0 001.647-.971c.45-.426.798-.956 1.045-1.591.247-.635.37-1.366.37-2.193 0-1.541-.367-2.694-1.1-3.459-.735-.765-1.712-1.147-2.933-1.147-.641 0-1.18.086-1.619.259-.438.173-.786.407-1.045.703h-.074v-4.44h-3.83v2.035h1.425v10.138c.358.222.86.444 1.508.666.647.222 1.452.333 2.414.333zm.407-2.035c-.395 0-.765-.05-1.11-.148a4.882 4.882 0 01-.814-.296v-3.848c.074-.21.194-.398.36-.564a2.617 2.617 0 011.139-.675c.21-.062.4-.093.573-.093.728 0 1.28.222 1.656.666.376.444.564 1.104.564 1.98 0 .518-.062.962-.185 1.332-.123.37-.293.678-.509.924a1.99 1.99 0 01-.758.546 2.42 2.42 0 01-.916.176zm9.639 1.961c.776 0 1.393-.139 1.85-.416.456-.278.807-.608 1.054-.99h.093l.24 1.258h3.071v-2.035h-1.203a7.726 7.726 0 00-.055-.5c-.025-.32-.037-.61-.037-.869 0-.345.022-.74.065-1.184.043-.444.065-.98.065-1.61 0-.493-.062-.937-.186-1.331a2.496 2.496 0 00-.6-1.018c-.278-.284-.642-.503-1.092-.657-.45-.154-.996-.231-1.638-.231-.888 0-1.655.08-2.303.24-.647.16-1.218.352-1.711.574l.574 1.887c.345-.16.77-.32 1.276-.481a5.618 5.618 0 011.702-.24c.53 0 .931.101 1.203.305.27.203.406.54.406 1.008v.351c0 .124-.012.247-.037.37a30.28 30.28 0 01-.906-.073 7.683 7.683 0 00-2.414.139c-.512.116-.95.295-1.314.536-.364.24-.641.549-.832.925-.191.376-.287.823-.287 1.341 0 .814.271 1.468.814 1.961.543.493 1.276.74 2.201.74zm.776-1.98c-.468 0-.804-.095-1.008-.286-.203-.191-.305-.46-.305-.805 0-.21.055-.389.166-.537.111-.148.26-.268.444-.36.185-.093.395-.16.63-.204.234-.043.468-.064.703-.064.283 0 .548.015.795.046.247.03.432.058.555.083v1.11c-.136.247-.352.478-.648.694-.295.216-.74.324-1.331.324zM59.623 26v-3.83h.648L63.45 26h2.997v-2.035h-1.72l-2.423-2.997 3.736-4.218h-2.83l-3.034 3.681h-.555V13.05H55.7v2.035h1.517V26h2.405z"
          />

          {shadow && (
            <filter
              id={shadowId}
              width="136.2%"
              height="281.7%"
              x="-18.1%"
              y="-90.8%"
              filterUnits="objectBoundingBox"
            >
              <feOffset in="SourceAlpha" result="shadowOffsetOuter1" />
              <feGaussianBlur
                in="shadowOffsetOuter1"
                result="shadowBlurOuter1"
                stdDeviation="4"
              />
              <feColorMatrix
                in="shadowBlurOuter1"
                values="0 0 0 0 0.137254902 0 0 0 0 0.137254902 0 0 0 0 0.137254902 0 0 0 0.5 0"
              />
            </filter>
          )}
        </defs>

        <path
          fill={logo}
          d="M81.8141829 26.0539219L51.2551868 79.9681529 4 0 159 0 113.67353 79.9681529z"
        />

        <g fillRule="nonzero">
          {shadow && (
            <use
              fill={color.dark}
              filter={`url(#${shadowId})`}
              xlinkHref={`#${textId}`}
            />
          )}
          <use fill={text} xlinkHref={`#${textId}`} />
        </g>
      </svg>
    );
  }

  return null;
};
